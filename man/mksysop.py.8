.\"
.\"			m k s y s o p . p y . 8
.\" $Revision: 166 $
.\" $Author: eckertb $
.\" $Id: mksysop.py.8 166 2014-06-05 11:43:45Z eckertb $
.\"
.\" RMS Gateway
.\"
.\" Copyright (c) 2004-2014 Hans-J. Barthen - DL5DI
.\" Copyright (c) 2008-2014 Brian R. Eckert - W3SG
.\"
.\" Questions or problems regarding this program can be emailed
.\" to linux-rmsgw@w3sg.org
.\"
.\" This program is free software; you can redistribute it and/or modify
.\" it under the terms of the GNU General Public License as published by
.\" the Free Software Foundation; either version 2 of the License, or
.\" (at your option) any later version.
.\"
.\" This program is distributed in the hope that it will be useful,
.\" but WITHOUT ANY WARRANTY; without even the implied warranty of
.\" MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
.\" GNU General Public License for more details.
.\"
.\" You should have received a copy of the GNU General Public License
.\" along with this program; if not, write to the Free Software
.\" Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
.\"
.TH MKSYSOP.PY 8 "Linux RMS Gateway" "W3SG/DL5DI" "W3SG/DL5DI"
.SH NAME
mksysop.py \- Python script to retrieve an RMS Gateway sysop record and create the local
xml file to maintain the record.
.SH SYNOPSIS
.B mksysop.py -h
.br
.B mksysop.py
.RB [ -d ]
.RB [ \-c
.IR callsign ]
.SH DESCRIPTION
The
.B mksysop.py
Python script makes WL2K webservice calls to lookup
the sysop record for the callsign set by the
.I GWCALL
parameter in the
.I gateway.conf
file and generate
.I new-sysop.xml
in the current directory.
.I new-sysop.xml
file holds and describes the  sysop record
for the callsign used for the lookup.
Alternatively, the script will use a callsign
given with a
.B \-c
option on the command line for the lookup
and generation.
The callsign must not include an SSID.
When the callsign is obtained from
.I gateway.conf
the script will drop the SSID.
.P
This command is typically run only once to
do an initial generation of the RMS gateway XML
file needed to maintain the sysop record for the
gateway owner.
.P
Once you have generated the
.I new-sysop.xml
file,
please inspect its contents.
Make any corrections and additions,
then copy it to
.IR /etc/rmsgw/sysop.xml .
.P
Once
.I /etc/rmsgw/sysop.xml
has been properly created,
any changes needed for the sysop record
should be made in that file and then
the update run (see
.BR updatesysop.py (8))
.SH "FIRST-TIME GENERATION OF SYSOP RECORD"
If you need to create your initial sysop record,
copy
.I /etc/rmsgw/sysop-template.xmlsysop_template_xml
to
.I /etc/rmsgw/sysop.xml
and enter the appropriate text within each of the
sysop element tags.
Once this has been done,
.IR updatesysop.py (8)
must be run to create your sysop record in the
WL2K system.
Debugging output is turned on using the
.B \-d
command line argument.
.SH "EXIT STATUS"
.TP
.B 0
Successful completion.
.TP
.B 1
WL2k webservice call failed.
.TP
.B 2
No record exists.
.SH FILES
.TP
.I /etc/rmsgw/gateway.conf
The default gateway configuration file.
.TP
.I /etc/rmsgw/winlinkservice.xml
The winlink webservice call configuratiion file.
.TP
.I /etc/rmsgw/sysop-template.xml
The RMS gateway template file for
.IR sysop.xml .
.TP
.I /etc/rmsgw/sysop.xml
The sysop record maintenance file used by
.IR updatesysop.py (8).
.TP
.I new-sysop.xml
The file generated by running
.IR mksysop.py .
.SH "SEE ALSO"
.BR getsysop.py (8),
.BR updatesysop.py (8)
.SH AUTHORS
Hans-J. Barthen - DL5DI <dl5di@gmx.de>
.br
Brian R. Eckert - W3SG <eckertb@w3sg.org>
